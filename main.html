<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <title>
            That ain't my ticket!
        </title>
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Raleway:200">
        <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
        <link rel="stylesheet" href="style.css">

        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!--[if lte IE 8]>
<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/grids-responsive-old-ie-min.css">
<![endif]-->
        <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/grids-responsive-min.css">
        <!--<![endif]-->

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script src="/home/kivy/react-tutorial/move.js/move.js"></script>
        <script src="printDirections.js"></script>
        <script src= "geo.js"> </script>
        <head>
            <body>
                <div class="pure-g">

                    <h1 class="pure-u-1-3 pure-u-md-1-3" id="web_name"> Tick2Court </h1>
                    <p class="pure-u-2-3 pure-u-md-2-3" id="top_text">
                        Type in the address of where you got pulled over, and we will find the locations of its corresponding court
                    </p>

                    <br />
                    <br />

                    <hr>

                    <div id="address_box_buffer" class="pure-u-1-6">

                    </div id="displaybox"> <!-- sketchy code. DONOT FIX! BREAKS EVERYTHING! -->
                    <div id="address_box" class="pure-u-2-3">
                        <p id="form_text" class="pure-u-1">
                            Type in the address where you got the ticket
                        </p>
                        <form class="pure-form pure-g" method="post">
                            <input id="address" class="pure-input-2-3" type="text" placeholder="Street Address" required>

                            <button class="pure-button pure-input-1-3" onclick="changeDisplay()" id="submit">
                                <i class="fa fa-gavel"></i>
                            </button>
                        </form>
                    </div>

                    <hr>

                    <div class="hide" id="popup">
                        <div class="pure-u-1">
                            <h3> Court in charge of inputted address <h3>
                                </div>
                                <div id="courts" class="pure-u-1-2">
                                    <div id="courtInfo" class="pure-u-1">
                                        <div id="courtName"> City of Clayton Municipal Court </div>
                                        <div id="courtAddress">S Brentwood Blvd </div>
                                        <div id="courtPhone">314-290-8441</div>
                                        <a  id="siteLink" href="">
                                            <div>Visit Website</div>
                                        </a>
                                    </div>
                                    <div id="directions" class="">
                                        <br />
                                        <button id="printDirections" class="pure-button"> Get Directions </button>
                                    </div>
                                    <br />
                                </div>

                                <div id="map" class="pure-u-1-2">
                                    <!--
<div id='Lat0' value="" hidden></div>
<div id='Lng0' value="" hidden></div>
<div id='Lat1' value="" hidden></div>
<div id='Lng1' value="" hidden></div>
-->

                                </div>
                                <!--
<b>Legal Services</b>
<br />
We recommend <a href="http://www.lsem.org/">Legal Services of Eastern Missouri</a>
<br />
If you cannot afford a lawyer, they may be able to find a volunteer
<br />
<a href="tel:+1-800-444-0514">1-800-444-0514</a>
<br />
Hours:&nbsp;&nbsp;Monday-Thursday&nbsp;&nbsp;&nbsp;8:30 AM-3:30 PM
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fridays&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:30 PM-3:30 PM
<br>
Please note if emergency
-->
                            </div>
                        </div>
                    </div>
                </div>

                <div id="box" class="pure-u-1 pure-md-1"> df</div>


                <script src="/home/kivy/react-tutorial/move.js/move.js">
                    move('#box')
                    .y(200)
                    .duration('3s')
                    .end();
                </script>
                <script>
                    // Note: This example requires that you consent to location sharing when
                    // prompted by your browser. If you see the error "The Geolocation service
                    // failed.", it means you probably did not give permission for the browser to
                    // locate you.
                    //document.getElementById('submit').addEventListener('click', initMap);
                    var myX;
                    var myY;
                    function initMap() {
                        console.log("map init");
                        var map = new google.maps.Map(document.getElementById('map'), {
                            center: {lat: 38.627003, lng: -90.199404},
                            zoom: 15
                        });
                        var infoWindow = new google.maps.InfoWindow({map: map});
                        // Try HTML5 geolocation.
                        if (navigator.geolocation) {
                            navigator.geolocation.getCurrentPosition(function(position) {
                                var pos = {
                                    lat:  38.627003,
                                    lng:  -90.199404
                                };

                                infoWindow.setPosition(pos);
                                infoWindow.setContent("here"); //Make name of
                                map.setCenter(pos);
                            }, function() {
                                handleLocationError(true, infoWindow, map.getCenter());
                            });
                        } else {
                            // Browser doesn't support Geolocation
                            handleLocationError(false, infoWindow, map.getCenter());
                        }
                    }

                    function handleLocationError(browserHasGeolocation, infoWindow, pos) {
                        infoWindow.setPosition(pos);
                        infoWindow.setContent(browserHasGeolocation ?
                                              'Error: The Geolocation service failed.' :
                                              'Error: Your browser doesn\'t support geolocation.');
                    }

                </script>
                <script src="https://maps.googleapis.com/maps/api/js?key=&signed_in=true&callback=initMap" async defer>
                </script>





            </body>

        </html>